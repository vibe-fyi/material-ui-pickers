{"version":3,"file":"TimePickerToolbar-1142994e.js","sources":["../../src/TimePicker/TimePickerToolbar.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport clsx from 'clsx';\r\nimport ClockType from '../constants/ClockType';\r\nimport ToolbarText from '../_shared/ToolbarText';\r\nimport ToolbarButton from '../_shared/ToolbarButton';\r\nimport PickerToolbar from '../_shared/PickerToolbar';\r\nimport { arrayIncludes } from '../_helpers/utils';\r\nimport { useUtils } from '../_shared/hooks/useUtils';\r\nimport { MaterialUiPickersDate } from '../typings/date';\r\nimport { ToolbarComponentProps } from '../Picker/Picker';\r\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\r\nimport { convertToMeridiem, getMeridiem } from '../_helpers/time-utils';\r\n\r\nexport const useStyles = makeStyles(\r\n  {\r\n    toolbarLandscape: {\r\n      flexWrap: 'wrap',\r\n    },\r\n    toolbarAmpmLeftPadding: {\r\n      paddingLeft: 50,\r\n    },\r\n    separator: {\r\n      margin: '0 4px 0 2px',\r\n      cursor: 'default',\r\n    },\r\n    hourMinuteLabel: {\r\n      display: 'flex',\r\n      justifyContent: 'flex-end',\r\n      alignItems: 'flex-end',\r\n    },\r\n    hourMinuteLabelAmpmLandscape: {\r\n      marginTop: 'auto',\r\n    },\r\n    hourMinuteLabelReverse: {\r\n      flexDirection: 'row-reverse',\r\n    },\r\n    ampmSelection: {\r\n      marginLeft: 20,\r\n      marginRight: -20,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n    },\r\n    ampmLandscape: {\r\n      margin: '4px 0 auto',\r\n      flexDirection: 'row',\r\n      justifyContent: 'space-around',\r\n      flexBasis: '100%',\r\n    },\r\n    ampmSelectionWithSeconds: {\r\n      marginLeft: 15,\r\n      marginRight: 10,\r\n    },\r\n    ampmLabel: {\r\n      fontSize: 18,\r\n    },\r\n  },\r\n  { name: 'MuiPickersTimePickerToolbar' }\r\n);\r\n\r\nexport function useMeridiemMode(\r\n  date: MaterialUiPickersDate,\r\n  ampm: boolean | undefined,\r\n  onChange: (date: MaterialUiPickersDate, isFinished?: boolean | undefined) => void\r\n) {\r\n  const utils = useUtils();\r\n  const meridiemMode = getMeridiem(date, utils);\r\n\r\n  const handleMeridiemChange = React.useCallback(\r\n    (mode: 'am' | 'pm') => {\r\n      const timeWithMeridiem = convertToMeridiem(date, mode, Boolean(ampm), utils);\r\n      onChange(timeWithMeridiem, false);\r\n    },\r\n    [ampm, date, onChange, utils]\r\n  );\r\n\r\n  return { meridiemMode, handleMeridiemChange };\r\n}\r\n\r\nexport const TimePickerToolbar: React.FC<ToolbarComponentProps> = ({\r\n  date,\r\n  views,\r\n  ampm,\r\n  openView,\r\n  onChange,\r\n  isLandscape,\r\n  setOpenView,\r\n}) => {\r\n  const utils = useUtils();\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const { meridiemMode, handleMeridiemChange } = useMeridiemMode(date, ampm, onChange);\r\n\r\n  const clockTypographyVariant = isLandscape ? 'h3' : 'h2';\r\n\r\n  return (\r\n    <PickerToolbar\r\n      isLandscape={isLandscape}\r\n      className={clsx({\r\n        [classes.toolbarLandscape]: isLandscape,\r\n        [classes.toolbarAmpmLeftPadding]: ampm && !isLandscape,\r\n      })}\r\n    >\r\n      <div\r\n        className={clsx(classes.hourMinuteLabel, {\r\n          [classes.hourMinuteLabelAmpmLandscape]: ampm && isLandscape,\r\n          [classes.hourMinuteLabelReverse]: theme.direction === 'rtl',\r\n        })}\r\n      >\r\n        {arrayIncludes(views, 'hours') && (\r\n          <ToolbarButton\r\n            variant={clockTypographyVariant}\r\n            onClick={() => setOpenView(ClockType.HOURS)}\r\n            selected={openView === ClockType.HOURS}\r\n            label={utils.getHourText(date, Boolean(ampm))}\r\n          />\r\n        )}\r\n\r\n        {arrayIncludes(views, ['hours', 'minutes']) && (\r\n          <ToolbarText\r\n            label=\":\"\r\n            variant={clockTypographyVariant}\r\n            selected={false}\r\n            className={classes.separator}\r\n          />\r\n        )}\r\n\r\n        {arrayIncludes(views, 'minutes') && (\r\n          <ToolbarButton\r\n            variant={clockTypographyVariant}\r\n            onClick={() => setOpenView(ClockType.MINUTES)}\r\n            selected={openView === ClockType.MINUTES}\r\n            label={utils.getMinuteText(date)}\r\n          />\r\n        )}\r\n\r\n        {arrayIncludes(views, ['minutes', 'seconds']) && (\r\n          <ToolbarText variant=\"h2\" label=\":\" selected={false} className={classes.separator} />\r\n        )}\r\n\r\n        {arrayIncludes(views, 'seconds') && (\r\n          <ToolbarButton\r\n            variant=\"h2\"\r\n            onClick={() => setOpenView(ClockType.SECONDS)}\r\n            selected={openView === ClockType.SECONDS}\r\n            label={utils.getSecondText(date)}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {ampm && (\r\n        <div\r\n          className={clsx(classes.ampmSelection, {\r\n            [classes.ampmLandscape]: isLandscape,\r\n            [classes.ampmSelectionWithSeconds]: arrayIncludes(views, 'seconds'),\r\n          })}\r\n        >\r\n          <ToolbarButton\r\n            disableRipple\r\n            variant=\"subtitle1\"\r\n            selected={meridiemMode === 'am'}\r\n            typographyClassName={classes.ampmLabel}\r\n            label={utils.getMeridiemText('am')}\r\n            onClick={() => handleMeridiemChange('am')}\r\n          />\r\n\r\n          <ToolbarButton\r\n            disableRipple\r\n            variant=\"subtitle1\"\r\n            selected={meridiemMode === 'pm'}\r\n            typographyClassName={classes.ampmLabel}\r\n            label={utils.getMeridiemText('pm')}\r\n            onClick={() => handleMeridiemChange('pm')}\r\n          />\r\n        </div>\r\n      )}\r\n    </PickerToolbar>\r\n  );\r\n};\r\n\r\nexport default TimePickerToolbar;\r\n"],"names":["useStyles","makeStyles","toolbarLandscape","flexWrap","toolbarAmpmLeftPadding","paddingLeft","separator","margin","cursor","hourMinuteLabel","display","justifyContent","alignItems","hourMinuteLabelAmpmLandscape","marginTop","hourMinuteLabelReverse","flexDirection","ampmSelection","marginLeft","marginRight","ampmLandscape","flexBasis","ampmSelectionWithSeconds","ampmLabel","fontSize","name","useMeridiemMode","date","ampm","onChange","utils","useUtils","meridiemMode","getMeridiem","handleMeridiemChange","React","mode","timeWithMeridiem","convertToMeridiem","Boolean","TimePickerToolbar","views","openView","isLandscape","setOpenView","theme","useTheme","classes","clockTypographyVariant","React.createElement","clsx","direction","arrayIncludes","ClockType","HOURS","getHourText","MINUTES","getMinuteText","SECONDS","getSecondText","getMeridiemText"],"mappings":"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"}